[2024-01-10 01:18:34] [INFO    ] discord.client: logging in using static token
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET https://discord.com/api/v10/users/@me with None has returned 200
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET /users/@me has found its initial rate limit bucket hash (78bb8553d9352a5a2f89f9def401287a).
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET https://discord.com/api/v10/users/@me has received {'id': '988276008207659048', 'username': 'HK-47', 'avatar': '0ea23405f1c43ca296afa4b832b1e1ec', 'discriminator': '2820', 'public_flags': 0, 'premium_type': 0, 'flags': 0, 'bot': True, 'banner': None, 'accent_color': None, 'global_name': None, 'avatar_decoration_data': None, 'banner_color': None, 'mfa_enabled': True, 'locale': 'en-US', 'email': None, 'verified': True, 'bio': ''}
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET https://discord.com/api/v10/oauth2/applications/@me with None has returned 200
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET /oauth2/applications/@me has found its initial rate limit bucket hash (d28a133af187e91d71d96a223467ce49).
[2024-01-10 01:18:34] [DEBUG   ] discord.http: GET https://discord.com/api/v10/oauth2/applications/@me has received {'id': '988276008207659048', 'name': 'HK-47', 'icon': '0ea23405f1c43ca296afa4b832b1e1ec', 'description': 'Experimental bingo bot!', 'type': None, 'bot': {'id': '988276008207659048', 'username': 'HK-47', 'avatar': '0ea23405f1c43ca296afa4b832b1e1ec', 'discriminator': '2820', 'public_flags': 0, 'premium_type': 0, 'flags': 0, 'bot': True, 'banner': None, 'accent_color': None, 'global_name': None, 'avatar_decoration_data': None, 'banner_color': None}, 'summary': '', 'bot_public': True, 'bot_require_code_grant': False, 'install_params': {'scopes': ['bot', 'applications.commands'], 'permissions': '1084479760448'}, 'verify_key': 'd6160f3cc892a6f6e21dd32e762dac64f5365559460c4e75afb54581ec48b87a', 'flags': 524288, 'hook': True, 'is_monetized': False, 'redirect_uris': [], 'interactions_endpoint_url': None, 'role_connections_verification_url': None, 'owner': {'id': '545728431917236226', 'username': 'kyanize.', 'avatar': 'c0dae0f37f6d744e8f333d9ce52ea13e', 'discriminator': '0', 'public_flags': 256, 'premium_type': 0, 'flags': 256, 'banner': None, 'accent_color': 6478, 'global_name': 'Logic', 'avatar_decoration_data': None, 'banner_color': '#00194e'}, 'approximate_guild_count': 1, 'interactions_event_types': [], 'interactions_version': 1, 'explicit_content_filter': 0, 'rpc_application_state': 0, 'store_application_state': 1, 'creator_monetization_state': 1, 'verification_state': 1, 'integration_public': True, 'integration_require_code_grant': False, 'discoverability_state': 1, 'discovery_eligibility_flags': 2276, 'monetization_state': 1, 'monetization_eligibility_flags': 247520, 'team': None, 'internal_guild_restriction': 2}
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: Created websocket connected to wss://gateway.discord.gg/
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 10, 'd': {'heartbeat_interval': 41250, '_trace': ['["gateway-prd-us-east1-c-crbn",{"micros":0.0}]']}}
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: Shard ID None has sent the IDENTIFY payload.
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': 'READY', 's': 1, 'op': 0, 'd': {'v': 10, 'user_settings': {}, 'user': {'verified': True, 'username': 'HK-47', 'mfa_enabled': True, 'id': '988276008207659048', 'global_name': None, 'flags': 0, 'email': None, 'discriminator': '2820', 'bot': True, 'avatar': '0ea23405f1c43ca296afa4b832b1e1ec'}, 'session_type': 'normal', 'session_id': '71d4cc2a76af80751087f85069efd967', 'resume_gateway_url': 'wss://gateway-us-east1-c.discord.gg', 'relationships': [], 'private_channels': [], 'presences': [], 'guilds': [{'unavailable': True, 'id': '969399636995493899'}], 'guild_join_requests': [], 'geo_ordered_rtc_regions': ['us-south', 'atlanta', 'us-central', 'us-east', 'us-west'], 'current_location': ['US', 'US:TX'], 'auth': {}, 'application': {'id': '988276008207659048', 'flags': 524288}, '_trace': ['["gateway-prd-us-east1-c-crbn",{"micros":123204,"calls":["id_created",{"micros":1132,"calls":[]},"session_lookup_time",{"micros":302,"calls":[]},"session_lookup_finished",{"micros":14,"calls":[]},"discord-sessions-prd-2-122",{"micros":121305,"calls":["start_session",{"micros":42274,"calls":["discord-api-5d5b5fd887-m5fz7",{"micros":37339,"calls":["get_user",{"micros":7194},"get_guilds",{"micros":3166},"send_scheduled_deletion_message",{"micros":15},"guild_join_requests",{"micros":819},"authorized_ip_coro",{"micros":13}]}]},"starting_guild_connect",{"micros":91,"calls":[]},"presence_started",{"micros":39181,"calls":[]},"guilds_started",{"micros":134,"calls":[]},"guilds_connect",{"micros":1,"calls":[]},"presence_connect",{"micros":39568,"calls":[]},"connect_finished",{"micros":39574,"calls":[]},"build_ready",{"micros":24,"calls":[]},"clean_ready",{"micros":1,"calls":[]},"optimize_ready",{"micros":24,"calls":[]},"split_ready",{"micros":0,"calls":[]}]}]}]']}}
[2024-01-10 01:18:34] [DEBUG   ] discord.client: Dispatching event socket_event_type
[2024-01-10 01:18:34] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 71d4cc2a76af80751087f85069efd967).
[2024-01-10 01:18:34] [DEBUG   ] discord.client: Dispatching event connect
[2024-01-10 01:18:34] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': 'GUILD_CREATE', 's': 2, 'op': 0, 'd': {'guild_scheduled_events': [], 'system_channel_flags': 0, 'roles': [{'version': 0, 'unicode_emoji': None, 'tags': {}, 'position': 0, 'permissions': '559623605571137', 'name': '@everyone', 'mentionable': False, 'managed': False, 'id': '969399636995493899', 'icon': None, 'hoist': False, 'flags': 0, 'color': 0}, {'version': 0, 'unicode_emoji': None, 'tags': {'bot_id': '986517514030817300'}, 'position': 1, 'permissions': '8', 'name': 'Test_Bot', 'mentionable': False, 'managed': True, 'id': '986518803221458967', 'icon': None, 'hoist': False, 'flags': 0, 'color': 0}, {'version': 1669863835954, 'unicode_emoji': None, 'tags': {'bot_id': '294882584201003009'}, 'position': 1, 'permissions': '347200', 'name': 'GiveawayBot', 'mentionable': False, 'managed': True, 'id': '1047709607365193793', 'icon': None, 'hoist': False, 'flags': 0, 'color': 0}, {'version': 1704845402726, 'unicode_emoji': None, 'tags': {'bot_id': '988276008207659048'}, 'position': 1, 'permissions': '1084479764544', 'name': 'HK-47', 'mentionable': False, 'managed': True, 'id': '1194432932996194425', 'icon': None, 'hoist': False, 'flags': 0, 'color': 0}], 'max_video_channel_users': 25, 'soundboard_sounds': [], 'preferred_locale': 'en-US', 'emojis': [], 'system_channel_id': '969399637557538949', 'premium_subscription_count': 0, 'large': False, 'mfa_level': 0, 'id': '969399636995493899', 'stage_instances': [], 'public_updates_channel_id': None, 'rules_channel_id': None, 'vanity_url_code': None, 'joined_at': '2024-01-10T00:10:02.742011+00:00', 'premium_tier': 0, 'name': "Logic's server", 'splash': None, 'max_members': 500000, 'nsfw_level': 0, 'embedded_activities': [], 'latest_onboarding_question_id': None, 'threads': [], 'max_stage_video_channel_users': 50, 'explicit_content_filter': 0, 'application_command_counts': {'3': 1, '1': 11}, 'description': None, 'nsfw': False, 'stickers': [], 'verification_level': 0, 'presences': [], 'region': 'deprecated', 'features': ['CHANNEL_ICON_EMOJIS_GENERATED'], 'premium_progress_bar_enabled': False, 'channels': [{'version': 0, 'type': 4, 'position': 0, 'permission_overwrites': [], 'name': 'Text Channels', 'id': '969399637557538947', 'flags': 0}, {'version': 0, 'type': 4, 'position': 0, 'permission_overwrites': [], 'name': 'Voice Channels', 'id': '969399637557538948', 'flags': 0}, {'version': 1702242543171, 'type': 0, 'topic': None, 'rate_limit_per_user': 0, 'position': 0, 'permission_overwrites': [], 'parent_id': '969399637557538947', 'name': 'general', 'last_message_id': '1194540239893581897', 'id': '969399637557538949', 'icon_emoji': {'name': 'üåê', 'id': None}, 'flags': 0}, {'version': 1702242543242, 'user_limit': 0, 'type': 2, 'rtc_region': None, 'rate_limit_per_user': 0, 'position': 0, 'permission_overwrites': [], 'parent_id': '969399637557538948', 'name': 'General', 'last_message_id': None, 'id': '969399637557538950', 'icon_emoji': {'name': 'üåê', 'id': None}, 'flags': 0, 'bitrate': 64000}, {'version': 1702242543256, 'type': 0, 'topic': None, 'rate_limit_per_user': 0, 'position': 1, 'permission_overwrites': [], 'parent_id': '969399637557538947', 'name': 'votes', 'last_message_id': '1058656680960860180', 'id': '986537383250001940', 'icon_emoji': {'name': 'üó≥Ô∏è', 'id': None}, 'flags': 0}, {'version': 1704860332950, 'type': 0, 'topic': None, 'theme_color': None, 'rate_limit_per_user': 0, 'position': 2, 'permission_overwrites': [{'type': 0, 'id': '969399636995493899', 'deny': '0', 'allow': '805309456'}], 'parent_id': '969399637557538947', 'nsfw': False, 'name': 'submissions', 'last_message_id': '1194524320882511964', 'id': '1194488938480537740', 'icon_emoji': {'name': 'üì•', 'id': None}, 'flags': 0}], 'lazy': True, 'default_message_notifications': 0, 'home_header': None, 'afk_timeout': 300, 'application_id': None, 'inventory_settings': None, 'members': [{'user': {'username': 'HK-47', 'public_flags': 0, 'id': '988276008207659048', 'global_name': None, 'display_name': None, 'discriminator': '2820', 'bot': True, 'avatar_decoration_data': None, 'avatar': '0ea23405f1c43ca296afa4b832b1e1ec'}, 'roles': ['1194432932996194425'], 'premium_since': None, 'pending': False, 'nick': None, 'mute': False, 'joined_at': '2024-01-10T00:10:02.742011+00:00', 'flags': 0, 'deaf': False, 'communication_disabled_until': None, 'avatar': None}], 'hub_type': None, 'unavailable': False, 'banner': None, 'incidents_data': None, 'safety_alerts_channel_id': None, 'member_count': 5, 'owner_id': '545728431917236226', 'discovery_splash': None, 'icon': None, 'version': 1702242543287, 'afk_channel_id': None, 'voice_states': []}}
[2024-01-10 01:18:34] [DEBUG   ] discord.client: Dispatching event socket_event_type
[2024-01-10 01:18:34] [DEBUG   ] discord.client: Dispatching event guild_available
[2024-01-10 01:18:36] [DEBUG   ] discord.client: Dispatching event ready
[2024-01-10 01:18:44] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': 'MESSAGE_CREATE', 's': 3, 'op': 0, 'd': {'type': 0, 'tts': False, 'timestamp': '2024-01-10T07:18:44.814000+00:00', 'referenced_message': None, 'pinned': False, 'nonce': '1194540814605221888', 'mentions': [], 'mention_roles': [], 'mention_everyone': False, 'member': {'roles': [], 'premium_since': None, 'pending': False, 'nick': None, 'mute': False, 'joined_at': '2022-04-29T00:48:04.141000+00:00', 'flags': 0, 'deaf': False, 'communication_disabled_until': None, 'avatar': None}, 'id': '1194540819290529873', 'flags': 0, 'embeds': [], 'edited_timestamp': None, 'content': '', 'components': [], 'channel_id': '969399637557538949', 'author': {'username': 'kyanize.', 'public_flags': 256, 'premium_type': 0, 'id': '545728431917236226', 'global_name': 'Logic', 'discriminator': '0', 'avatar_decoration_data': None, 'avatar': 'c0dae0f37f6d744e8f333d9ce52ea13e'}, 'attachments': [{'width': 1200, 'url': 'https://cdn.discordapp.com/attachments/969399637557538949/1194540819051466772/buffalo-chicken-wing-feature.png?ex=65b0b9d4&is=659e44d4&hm=cf6398ac855cfb6c7253124a587968d9673bfeb9f08b8aa0e02e8a4ec9a31461&', 'size': 1405514, 'proxy_url': 'https://media.discordapp.net/attachments/969399637557538949/1194540819051466772/buffalo-chicken-wing-feature.png?ex=65b0b9d4&is=659e44d4&hm=cf6398ac855cfb6c7253124a587968d9673bfeb9f08b8aa0e02e8a4ec9a31461&', 'placeholder_version': 1, 'placeholder': 'Z1oKNwjwt4Z3WXkhc2d2m3V4ilBnBzEF', 'id': '1194540819051466772', 'height': 1200, 'filename': 'buffalo-chicken-wing-feature.png', 'content_type': 'image/png'}], 'guild_id': '969399636995493899'}}
[2024-01-10 01:18:44] [DEBUG   ] discord.client: Dispatching event socket_event_type
[2024-01-10 01:18:44] [DEBUG   ] discord.client: Dispatching event message
[2024-01-10 01:18:46] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': 'TYPING_START', 's': 4, 'op': 0, 'd': {'user_id': '545728431917236226', 'timestamp': 1704871127, 'member': {'user': {'username': 'kyanize.', 'public_flags': 256, 'id': '545728431917236226', 'global_name': 'Logic', 'display_name': 'Logic', 'discriminator': '0', 'bot': False, 'avatar_decoration_data': None, 'avatar': 'c0dae0f37f6d744e8f333d9ce52ea13e'}, 'roles': [], 'premium_since': None, 'pending': False, 'nick': None, 'mute': False, 'joined_at': '2022-04-29T00:48:04.141000+00:00', 'flags': 0, 'deaf': False, 'communication_disabled_until': None, 'avatar': None}, 'channel_id': '969399637557538949', 'guild_id': '969399636995493899'}}
[2024-01-10 01:18:46] [DEBUG   ] discord.client: Dispatching event socket_event_type
[2024-01-10 01:18:46] [DEBUG   ] discord.client: Dispatching event typing
[2024-01-10 01:18:46] [DEBUG   ] discord.client: Dispatching event raw_typing
[2024-01-10 01:18:50] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': 'MESSAGE_CREATE', 's': 5, 'op': 0, 'd': {'type': 0, 'tts': False, 'timestamp': '2024-01-10T07:18:50.924000+00:00', 'referenced_message': None, 'pinned': False, 'nonce': '1194540840228225024', 'mentions': [], 'mention_roles': [], 'mention_everyone': False, 'member': {'roles': [], 'premium_since': None, 'pending': False, 'nick': None, 'mute': False, 'joined_at': '2022-04-29T00:48:04.141000+00:00', 'flags': 0, 'deaf': False, 'communication_disabled_until': None, 'avatar': None}, 'id': '1194540844917731360', 'flags': 0, 'embeds': [], 'edited_timestamp': None, 'content': '!bingosubmit', 'components': [], 'channel_id': '969399637557538949', 'author': {'username': 'kyanize.', 'public_flags': 256, 'premium_type': 0, 'id': '545728431917236226', 'global_name': 'Logic', 'discriminator': '0', 'avatar_decoration_data': None, 'avatar': 'c0dae0f37f6d744e8f333d9ce52ea13e'}, 'attachments': [{'width': 1200, 'url': 'https://cdn.discordapp.com/attachments/969399637557538949/1194540844569591858/buffalo-chicken-wing-feature.png?ex=65b0b9da&is=659e44da&hm=453a456e8d2a1ce1bd852751a3fe07016b1600ae1cf1e190d979652a0b14413d&', 'size': 1405514, 'proxy_url': 'https://media.discordapp.net/attachments/969399637557538949/1194540844569591858/buffalo-chicken-wing-feature.png?ex=65b0b9da&is=659e44da&hm=453a456e8d2a1ce1bd852751a3fe07016b1600ae1cf1e190d979652a0b14413d&', 'placeholder_version': 1, 'placeholder': 'Z1oKNwjwt4Z3WXkhc2d2m3V4ilBnBzEF', 'id': '1194540844569591858', 'height': 1200, 'filename': 'buffalo-chicken-wing-feature.png', 'content_type': 'image/png'}], 'guild_id': '969399636995493899'}}
[2024-01-10 01:18:50] [DEBUG   ] discord.client: Dispatching event socket_event_type
[2024-01-10 01:18:50] [DEBUG   ] discord.client: Dispatching event message
[2024-01-10 01:18:50] [ERROR   ] discord.client: Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\Python311\Lib\site-packages\gspread\client.py", line 206, in open_by_key
    spreadsheet = Spreadsheet(self, {"id": key})
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\gspread\spreadsheet.py", line 37, in __init__
    metadata = self.fetch_sheet_metadata()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\gspread\spreadsheet.py", line 245, in fetch_sheet_metadata
    r = self.client.request("get", url, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\gspread\client.py", line 93, in request
    raise APIError(response)
gspread.exceptions.APIError: {'code': 403, 'message': 'The caller does not have permission', 'status': 'PERMISSION_DENIED'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python311\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "c:\Users\obliv\Desktop\BingoBot\main.py", line 57, in on_message
    await post_image(message, image_url)
  File "c:\Users\obliv\Desktop\BingoBot\main.py", line 85, in post_image
    sheet = gc.open_by_key(GOOGLE_SHEETS_KEY)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\gspread\client.py", line 211, in open_by_key
    raise PermissionError from ex
PermissionError
[2024-01-10 01:19:15] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:19:15] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:19:57] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:19:57] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:20:38] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:20:38] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:21:19] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:21:19] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:22:00] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:22:00] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:22:42] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:22:42] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:23:23] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:23:23] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:24:04] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:24:04] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:24:45] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:24:45] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:25:27] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:25:27] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:26:08] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:26:08] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:26:49] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:26:49] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:27:30] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:27:30] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
[2024-01-10 01:28:12] [DEBUG   ] discord.gateway: Keeping shard ID None websocket alive with sequence 5.
[2024-01-10 01:28:12] [DEBUG   ] discord.gateway: For Shard ID None: WebSocket Event: {'t': None, 's': None, 'op': 11, 'd': None}
